version: 2
jobs:
  feature_build:
    docker:
      - image: circleci/node
    steps:
      - checkout
      - run: 
          command: echo "helllllo $CIRCLE_BRANCH"
      - run:
          command: echo "git user $GIT_USER"
      - run:
          command : git config --global user.name $GIT_USER
      - run: 
          command: git pull dev_integration
      - run:
          command: echo "git merge done"

  int_build:
    docker:
      - image: circleci/node
    steps:
      - checkout
      - run: 
          command: echo "hello $CIRCLE_BRANCH"
  build:
    docker:
      - image: circleci/node
    steps:
      - checkout
      - run: 
          command: echo "Yello $CIRCLE_BRANCH"

workflows:
  version: 2
  feature_int:
    jobs:
      - feature_build:
          filters:
            branches:
              only:
                - /feature_.*/
      - int_build:
          filters:
            branches:
              only:
                - dev_integration
